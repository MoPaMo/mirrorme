<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>mirrorme | a discord bot</title>
    <link rel="stylesheet" href="/public/app.css" />
    <link rel="stylesheet" href="/icons.css" />
    <link rel="icon" type="image/svg+xml" href="/ico.svg" />
    <meta
      name="description"
      content="Mirror discord to the web using mirrorme, the open source discord bot "
    />
    <link rel="alternate icon" href="/fav.ico" />
    <link rel="mask-icon" href="/ico.svg" color="#000" />
  </head>

  <body id="main">
    <div id="loadscreen" v-if="loading">
      <br /><span style="font-weight: bolder">LOADING...</span><br /><i
        >{{load_reason}}</i
      >
    </div>
    <!--chat app-->
    <main id="chat" v-if="!loading">
      <div class="message show-mobile">
        <a
          rel="noopener"
          class="prof-image"
          target="_blank"
          href="https://discordapp.com/users/835079528770043925"
          ><img
            src="https://cdn.discordapp.com/avatars/835079528770043925/1407143f06a8bded9d387c32010757ee.png?size=128"
            alt="MirrorMe icon"
            title="Click to open discord (works only with friends)"
        /></a>
        <div class="text">
          <div class="msg-info">
            <a
              rel="noopener"
              class="msg-author"
              href="https://discordapp.com/users/835079528770043925"
              target="_blank"
              title="Click to open discord (works only with friends)"
              >mirrorme
            </a>
            <span class="msg-date"> now</span>
          </div>
          <div class="msg-text">Mirroring {{servername}}</div>
        </div>
      </div>
      <div class="message" v-for="msg in msgs">
        <a
          rel="noopener"
          class="prof-image"
          target="_blank"
          :href="'https://discordapp.com/users/'+msg.id"
          ><img
            :src="msg.img"
            :alt="msg.author+'\'s profile picture. Click to open discord (works only with friends)'"
            title="Click to open discord (works only with friends)"
        /></a>
        <div class="text">
          <div class="msg-info">
            <a
              rel="noopener"
              class="msg-author"
              :href="'https://discordapp.com/users/'+msg.id"
              target="_blank"
              title="Click to open discord (works only with friends)"
              >{{msg.author}} 
            </a>
            <span class="msg-date"> {{msg.date}}</span>
          </div>
        
        <div class="msg-text" v-html="msg.text"></div>
      </div>
      </div>
    </main>
    <!-- /chat app-->
    <aside id="aside" v-if="!loading">
      <h1>mirrorme</h1>
      mirroring
    </aside>
    <section id="writebar" v-if="!loading">
      <input
        label="Message chat"
        placeholder="Message #server"
        v-model="send_val"
        @keyup.enter="send_handle"
      />
    </section>
    <section v-if="!loading" class="hide-mobile share-section" @click="share"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="share" class="svg-inline--fa fa-share fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"></path></svg>share mirrorme</section>
    <script
      src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js"
      crossorigin="anonymous"
    ></script>
    <script src="/public/vue.global.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/public/app.js"></script>
  </body>
</html>
